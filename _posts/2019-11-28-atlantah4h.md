---
layout: post
title: Geo-spatial and Market Analysis for the Atlanta Habitat for Humanity
subtitle: R, GIS
date: 2019-11-29T06:01:00.000+00:00
thumb_img_path: "/images/fulton.jpg"
content_img_path: ''
excerpt: Spatial and Time Series Analysis of Parcels in Fulton County for the Atlanta
  Habitat for Humanity home ownership program
canonical_url: ''
github: <a href="https://github.com/ashlitaylor/AtlantaH4H"  target="_blank" class="btn
  btn-primary">GitHub Repository</a>

---
<a href="https://github.com/ashlitaylor/AtlantaH4H" target="_blank" class="btn btn-primary">GitHub Repository</a>

<header> 
    <h1 align="center"> Geo-spatial Property and Market Analysis for the Atlanta Habitat for Humanity </h1>
</header>

### Background
The Atlanta Habitat for Humanity (H4H) is the third largest Habitat affiliate in the USA producing approximately 50 new homes per year. Habitat's homeownership program is one of the only affordable homeownership opportunities to families that make \$ 30k to \$ 50k per year.  

Like other major cities across the county, Atlanta has seen significant increases in home values and rental costs. This has resulted in a reduction in the number of available homes and properties that Atlanta Habitat for Humanity can purchase for its home ownership program. Analytical methods are needed to strategically and efficiently identify and target lots for purchase.

### Problem Statement
Which properties should the Atlanta H4H target for acquisition within the next five to ten years for its home ownership program?

### Desired Outcomes
* Property analysis - identify parcels that meet Habitat's criteria.
* Market analysis - identify neighborhoods or localized areas that Atlanta Habitat for Humanity should prioritize that may become unattainable with-in the next 5 to 10 years. Target neighborhoods are Grove Park, Orchard Knob, Dixy Hills, and the “historic westside” which is the Vine City, English Avenue, and Ashview Heights.  

### Property Constraints
* Under $40K
* Flat
* Not in a flood plain
* Not in College Park
* Not on a major road
* Lot frontage must be at least 50ft
* Lot depth must be at least 80ft
#### Harder constraints
* Conforming zoning 
* If there is an existing structure on the lot, determine if it should be demolished or rehabilitated. 
_____

### Property analysis
#### Data
In order to identify the properties that were within the Atlanta H4H property constraints, I sourced geocoded data from publicly available feature layers on ArcGIS Online. I obtained the following layers:
- National Flood Hazard Layer dataset. This represents the current effective flood data in Fulton County. It is a compilation of the Flood Insurance Rate Map and Letters of Map Revision that conforms to the FEMA specification for horizontal accuracy. 23,077 Records
- Fulton County Tax Parcels from 2007 to 2018. This is a published representation of the real property areas and tax information from CAMA and Tax Systems from 2007 to 2018 in Fulton County. 341,562 Records 
- Atlanta Region Rivers and Streams. This layer was developed by the Research & Analytics Division of the Atlanta Regional Commission and is a subset of GDOT's statewide Georgia DLG-F Linear Hydrographic Features dataset. This dataset contains linear hydrographic features, including rivers, streams and artificial flow paths through water bodies. 3,412 Records.
- Road Centerlines in Atlanta. The centerline data contains City of Atlanta owned streets. The geometry of this data is based on GDOT LMIG and supplemented with geometry from City of Atlanta Planning Department and HERE data. 13,372 Records
- Neighborhoods in Atlanta. This represents the 244 Neighborhoods in Atlanta. 244 Records.
- Zoning District Codes in Atlanta. The various zoning districts in Atlanta. 2,490 Records

The features listed above are hosted on the ArcGIS Online World geocoding service. I used ESRI GIS mapping software to overlay the different layers and isolate the parcels that met the conditions below.

|Feature |Description      | Constraint |
|:----------|:-------------|:------------|
|Flood Zone |Not in a Flood Plain|X or X500 Zoning code |
|Neighborhood |In one of Atlanta Habitat for Humanity’s identified target neighborhoods|Ashview Heights, Dixie Hills, English Avenue, Grove Park, Orchard Knob, Vine City |
|Lot Zoning |Conforming Zone |Zone C3, C4, E3, I3, I4, R3, R4, R5 |
|Elevation grade |Lot must be flat |Maximum 20% elevation grade |
|Lot size |Lot frontage must by at least 50ft. |The lot arcs that are incident with the road must be at least 50 ft long|
|Road|Must be on paved, non-major road |Speed limit less than 45 mph|

<img src="https://raw.githubusercontent.com/ashlitaylor/AtlantaH4H/master/images/H4Hneighborhoods.PNG" height="400" width="200"><img src="https://raw.githubusercontent.com/ashlitaylor/AtlantaH4H/master/images/HotSpots.PNG" height="400" width="200">

<img src="https://raw.githubusercontent.com/ashlitaylor/AtlantaH4H/master/images/LowRiskFloodPlains.PNG" height="400" width="200">
<img src="https://raw.githubusercontent.com/ashlitaylor/AtlantaH4H/master/images/OverlayingConformingZonesAndLowRiskFloodPlains.PNG" height="400" width="200">
<img src="https://raw.githubusercontent.com/ashlitaylor/AtlantaH4H/master/images/ZoningDistricts.PNG" height="400" width="200">

Performing these overlays and constraint filters narrowed down the available 165K parcels in Atlanta to 1,710 parcels. The English Avenue and Vine City neighborhoods were found to not contain any parcels fitting all the criteria, and were not included in the time series analysis that follows. 
_________

### Market Analysis
I used an ARIMA model to perform time series analysis on the median property values in Orchard Knob, Ashview Heights, Grove Park, and Dixie Hills. I performed this analysis to evaluate the trends in median property values in these target neighborhoods and forecast the rates of increase in five years. I used Databricks and PySpark to manage and merge the records of each year on the Global ID and Parcel ID, and R to build univariate Autoregressive Integrated Moving Average(ARIMA) models from the data.

#### Time Series Analysis Challenges 
There are notable challenges to analyzing annual median property values. The median property value is a transparent residential index, however it does not adjust for the quality of properties that are on the market and can confound fluctuations in property values with fluctuations in real estate attributes. Additionally, the publicly available parcel data is only collected once per year. This low frequency of collection means that each neighborhood only has a small sample of 12 data points for the years from 2007 - 2018. 

I chose the Autoregressive Integrated Moving Average i.e. ARIMA(p,d,q) model framework was because it works well with smaller datasets over shorter periods, and can mitigate confounding fluctuation effects ii,iii. The charts in Figure 4 below show the median property values in each neighborhood.

#### Libraries


```R
library(data.table)
library(xts)
library(TSA)
#library(ggplot2)
```

    Loading required package: zoo
    
    Attaching package: 'zoo'
    
    The following objects are masked from 'package:base':
    
        as.Date, as.Date.numeric
    
    Registered S3 method overwritten by 'xts':
      method     from
      as.zoo.xts zoo 
    
    Attaching package: 'xts'
    
    The following objects are masked from 'package:data.table':
    
        first, last
    
    
    Attaching package: 'TSA'
    
    The following objects are masked from 'package:stats':
    
        acf, arima
    
    The following object is masked from 'package:utils':
    
        tar
    
    

### The Data
* Atlanta Tax Parcels from 2007 to 2018. This is a published representation of the real property areas and tax information from CAMA and Tax Systems from 2007 to 2018 in Fulton County. 165,481 instances


```R
#Load Data
data = read.csv('Neighborhoods.csv', header = T)
attach(data)
data
```


<table>
<thead><tr><th scope=col>Year</th><th scope=col>Ashview.Heights</th><th scope=col>Dixie.Hills</th><th scope=col>Grove.Park</th><th scope=col>Orchard.Knob</th></tr></thead>
<tbody>
	<tr><td>2007 </td><td>45040</td><td>36700</td><td>36820</td><td>49920</td></tr>
	<tr><td>2008 </td><td>45400</td><td>37020</td><td>37520</td><td>49920</td></tr>
	<tr><td>2009 </td><td>45020</td><td>37360</td><td>37520</td><td>49920</td></tr>
	<tr><td>2010 </td><td>37660</td><td>28380</td><td>30400</td><td>38660</td></tr>
	<tr><td>2011 </td><td>14980</td><td>12510</td><td>21640</td><td>14860</td></tr>
	<tr><td>2012 </td><td> 6440</td><td> 8660</td><td> 6400</td><td> 9100</td></tr>
	<tr><td>2013 </td><td> 4400</td><td> 6080</td><td> 7600</td><td> 6880</td></tr>
	<tr><td>2014 </td><td>10720</td><td> 8640</td><td> 7960</td><td> 8120</td></tr>
	<tr><td>2015 </td><td>11240</td><td> 8480</td><td> 9040</td><td> 7920</td></tr>
	<tr><td>2016 </td><td>10980</td><td> 8640</td><td> 9120</td><td> 7920</td></tr>
	<tr><td>2017 </td><td>10880</td><td> 9020</td><td> 9080</td><td> 7920</td></tr>
	<tr><td>2018 </td><td>14340</td><td>11440</td><td>15180</td><td> 8680</td></tr>
</tbody>
</table>



#### Exploratory Data Analysis
All four neighborhoods experienced a dramatic decrease in median property values consistent with the recession of 2007-2009. The property values started to increase in November 2012 as the economy recovered from the financial crisis, and the housing market was bolstered by government policies. Decreasing inventory of houses along with increasing demand for new houses following employment growth facilitated the increases observed in all four neighborhoods. The assumption of constant mean for stantionary time series is violated in all four neighborhoods. 


```R
options(repr.plot.width = 7, repr.plot.height = 3)
```


```R
temp_Ashview.Heights = ts(Ashview.Heights, start = 2007, frequency = 1)
plot(temp_Ashview.Heights, main = "Temporal Plot of Median Property Values \nin Ashview Heights", col = "darkgreen", xlab = "Year", ylab = 'Property Value ($)')
```


![png](/images/atlh4h/output_9_0.png)



```R
#ACF & PACF plots on original series
  acf(data$Ashview.Heights,main='ACF Median Housing Prices Ashview Heights')
  pacf(data$Ashview.Heights,main='PACF Median Housing Prices Ashview Heights') 
  acf(data$Dixie.Hills,main='ACF Median Housing Prices Dixie Hills')
  pacf(data$Dixie.Hills,main='PACF Median Housing Prices Dixie Hills')
  acf(data$Grove.Park,main='ACF Median Housing Prices Grove Park')
  pacf(data$Grove.Park,main='PACF Median Housing Prices Grove Park')
  acf(data$Orchard.Knob,main='ACF Median Housing Prices Orchard Knob')
  pacf(data$Orchard.Knob,main='PACF Median Housing Prices Orchard Knob')
```


![png](/images/atlh4h/output_10_0.png)



![png](/images/atlh4h/output_10_1.png)



![png](/images/atlh4h/output_10_2.png)



![png](/images/atlh4h/output_10_3.png)



![png](/images/atlh4h/output_10_4.png)



![png](/images/atlh4h/output_10_5.png)



![png](/images/atlh4h/output_10_6.png)



![png](/images/atlh4h/output_10_7.png)



```R
temp_Grove.Park = ts(Grove.Park, start = 2007, frequency = 1)
plot(temp_Grove.Park, main = "Temporal Plot of Median Property Values \nin Grove Park", col = "darkgreen", xlab = "Year", ylab = 'Property Value ($)')
```


![png](/images/atlh4h/output_11_0.png)



```R
temp_Dixie.Hills = ts(Dixie.Hills, start = 2007, frequency = 1)
plot(temp_Dixie.Hills, main = "Temporal Plot of Median Property Values \nin Dixie Hills",col = "darkgreen", xlab = "Year", ylab = 'Property Value ($)')
```


![png](/images/atlh4h/output_12_0.png)



```R
temp_Orchard.Knob = ts(Orchard.Knob, start = 2007, frequency = 1)
plot(temp_Orchard.Knob, main = "Temporal Plot of Median Property Values \nin Orchard Knob",col = "darkgreen", xlab = "Year", ylab = 'Property Value ($)')
```


![png](/images/atlh4h/output_13_0.png)


The temporal plot 

### Data Preparation
#### Differencing the series

I differenced the time series to transform it to a stationary series (one without trend or seasonality). A stationary time series has constant mean and variance, and is easier to predict. I start with d = 1. Differencing the time series for all four neighborhoods removes the downward trend that was observed after 2010.


```R
diff.Ashview.Heights = diff(temp_Ashview.Heights)
diff.Dixie.Hills = diff(temp_Dixie.Hills)
diff.Grove.Park = diff(temp_Grove.Park)
diff.Orchard.Knob = diff(temp_Orchard.Knob)
```


```R
options(repr.plot.width = 7, repr.plot.height = 3)
plot(diff.Ashview.Heights, type='l', main = 'Differenced Median Housing Prices for Ashview Heights', ylab = "Difference")  
plot(diff.Grove.Park, type='l', main = 'Differenced Median Housing Prices for Grove Park', ylab = "Difference") 
plot(diff.Dixie.Hills, type='l', main = 'Differenced Median Housing Prices for Dixie Hills', ylab = "Difference")
plot(diff.Orchard.Knob, type='l', main = 'Differenced Median Housing Prices for Orchard Knob', ylab = "Difference") 
```


![png](/images/atlh4h/output_17_0.png)



![png](/images/atlh4h/output_17_1.png)



![png](/images/atlh4h/output_17_2.png)



![png](/images/atlh4h/output_17_3.png)



```R
#ACF & PACF plots on differenced time series
  acf(diff.Ashview.Heights,main='ACF Differenced Median Housing Prices for Ashview Heights')
  pacf(diff.Ashview.Heights,main='PACF Differenced Median Housing Prices for Ashview Heights')
  acf(diff.Dixie.Hills,main='ACF Differenced Median Housing Prices for Dixie Hills')
  pacf(diff.Dixie.Hills,main='PACF Differenced Median Housing Prices for Dixie Hills')
  acf(diff.Grove.Park,main='ACF Differenced Median Housing Prices for Grove Park')
  pacf(diff.Grove.Park,main='PACF Differenced Median Housing Prices for Grove Park')
  acf(diff.Orchard.Knob,main='ACF Differenced Median Housing Prices for Orchard Knob')
  pacf(diff.Orchard.Knob,main='PACF Differenced Median Housing Prices for Orchard Knob')
```


![png](/images/atlh4h/output_18_0.png)



![png](/images/atlh4h/output_18_1.png)



![png](/images/atlh4h/output_18_2.png)



![png](/images/atlh4h/output_18_3.png)



![png](/images/atlh4h/output_18_4.png)



![png](/images/atlh4h/output_18_5.png)



![png](/images/atlh4h/output_18_6.png)



![png](/images/atlh4h/output_18_7.png)


### ARIMA(p,d,q) Model
I created ARIMA(p,d,q) models using the differenced time series data on the median property values in each of the four neighborhoods. The tested orders of the AR(p) and MA(q) coefficient values ranged from 0 to 10, while the order for the differencing ranged from 0 to 1 to confirm if additional differencing would be necessary.

I recorded the Akaike Information Criterion (AIC) for each combination of p,d, and q tested, and saved the ARIMA(p,d,q) order that yielded the lowest value since this indicated the order that yielded the best model fit. For all four neighborhoods, the ARIMA(1,1,1) model yielded the best performance. None of the selected models indicated the necessity to model autoregressive conditional heteroskedasticity (ARCH) effects. The ARIMA(1,1,1) models also yielded the best mean absolute error, mean squared prediction error, and mean absolute error values. 


```R
options(repr.plot.width = 7, repr.plot.height = 3)
```


```R
#Fit ARIMA on differenced series for each neighborhood
  #Ashview
  final.aic=Inf
  final.order.Ashview.Heights=c(0,0,0)
  for (p in 1:10) for (d in 0:1) for (q in 1:10) 
  {
    current.aic=AIC(arima(diff.Ashview.Heights,order=c(p, d, q), method = 'ML'))
    if(current.aic<final.aic) 
    {
      final.aic=current.aic
      final.order.Ashview.Heights=c(p,d,q)
      final.arima.Ashview.Heights=arima(diff.Ashview.Heights, order=final.order.Ashview.Heights)
    }
  }

```R
final.order.Ashview.Heights
```


<ol class=list-inline>
	<li>9</li>
	<li>1</li>
	<li>2</li>
</ol>




```R
  #Dixie Hills
  final.aic=Inf
  final.order.Dixie.Hills=c(0,0,0)
  for (p in 1:10) for (d in 0:1) for (q in 1:10) 
  {
    current.aic=AIC(arima(diff.Dixie.Hills,order=c(p, d, q)))
    if(current.aic<final.aic) 
    {
      final.aic=current.aic
      final.order.Dixie.Hills=c(p,d,q)
      final.arima.Dixie.Hills=arima(diff.Dixie.Hills, order=final.order.Dixie.Hills)
    }
  }
```


```R
final.order.Dixie.Hills
```


<ol class=list-inline>
	<li>1</li>
	<li>1</li>
	<li>1</li>
</ol>




```R
  #Grove Park
  final.aic=Inf
  final.order.Grove.Park=c(0,0,0)
  for (p in 1:10) for (d in 0:1) for (q in 1:10) 
  {
    current.aic=AIC(arima(diff.Grove.Park,order=c(p, d, q)))
    if(current.aic<final.aic) 
    {
      final.aic=current.aic
      final.order.Grove.Park=c(p,d,q)
      final.arima.Grove.Park=arima(diff.Grove.Park, order=final.order.Grove.Park)
    }
  }
```


```R
final.order.Grove.Park
```


<ol class=list-inline>
	<li>1</li>
	<li>1</li>
	<li>1</li>
</ol>




```R
  #Orchard Knob
  final.aic=Inf
  final.order.Orchard.Knob=c(0,0,0)
  for (p in 1:10) for (d in 0:1) for (q in 1:10) 
  {
    current.aic=AIC(arima(diff.Orchard.Knob,order=c(p, d, q)))
    if(current.aic<final.aic) 
    {
      final.aic=current.aic
      final.order.Orchard.Knob=c(p,d,q)
      final.arima.Orchard.Knob=arima(diff.Orchard.Knob, order=final.order.Orchard.Knob)
    }
  }

```

```R
final.order.Orchard.Knob
```


<ol class=list-inline>
	<li>1</li>
	<li>1</li>
	<li>1</li>
</ol>



### Residual Analysis


```R
options(repr.plot.width = 7, repr.plot.height = 3)
```


```R
#Ashview
resids.Ashview.Heights = resid(final.arima.Ashview.Heights)[-1]
squared.resids.Ashview.Heights=resids.Ashview.Heights^2

#test for serial correlation Ashview
Box.test(resids.Ashview.Heights,lag=4,type='Ljung',fitdf=3)
#test for arch effect Ashview
Box.test((resids.Ashview.Heights)^2,lag=4,type='Ljung',fitdf=3)

plot(resids.Ashview.Heights,main='Residuals of Ashview Heights \n Median Housing Prices ARIMA Fit', ylab = "residuals", cex.main = 0.85)
plot(squared.resids.Ashview.Heights,main='Squared Residuals of Ashview Heights \nMedian Housing Prices ARIMA Fit', ylab = "squared residuals", cex.main = 0.85)
acf(resids.Ashview.Heights,main='ACF Residuals of Ashview Heights \nMedian Housing Prices ARIMA Fit', ylab = "residuals", cex.main = 0.85)
acf(squared.resids.Ashview.Heights,main='ACF Squared Residuals of Ashview Heights \nMedian Housing Prices ARIMA Fit', ylab = "squared residuals", cex.main = 0.85)
```


    
    	Box-Ljung test
    
    data:  resids.Ashview.Heights
    X-squared = 5.3713, df = 1, p-value = 0.02047
    



    
    	Box-Ljung test
    
    data:  (resids.Ashview.Heights)^2
    X-squared = 4.5291, df = 1, p-value = 0.03332
    



![png](/images/atlh4h/output_63_2.png)



![png](/images/atlh4h/output_63_3.png)



![png](/images/atlh4h/output_63_4.png)



![png](/images/atlh4h/output_63_5.png)



```R
 #Dixie.Hills

resids.Dixie.Hills = resid(final.arima.Dixie.Hills)[-1]
squared.resids.Dixie.Hills=resids.Dixie.Hills^2

#test for serial correlation Dixie.Hills
Box.test(resids.Dixie.Hills,lag=4,type='Ljung',fitdf=3)
#test for arch effect Dixie.Hills
Box.test((resids.Dixie.Hills)^2,lag=4,type='Ljung',fitdf=3)

plot(resids.Dixie.Hills,main='Residuals of Dixie Hills \nMedian Housing Prices ARIMA Fit', ylab = "residuals", cex.main = 0.85)
plot(squared.resids.Dixie.Hills,main='Squared Residuals of Dixie Hills \nMedian Housing Prices ARIMA Fit', ylab = "squared residuals", cex.main = 0.85)
acf(resids.Dixie.Hills,main='ACF Residuals of Dixie Hills \nMedian Housing Prices ARIMA Fit', ylab = "residuals", cex.main = 0.85)
acf(squared.resids.Dixie.Hills,main='ACF Squared Residuals of Dixie Hills \nMedian Housing Prices ARIMA Fit', ylab = "squared residuals", cex.main = 0.85)
```


    
    	Box-Ljung test
    
    data:  resids.Dixie.Hills
    X-squared = 1.3831, df = 1, p-value = 0.2396
    



    
    	Box-Ljung test
    
    data:  (resids.Dixie.Hills)^2
    X-squared = 2.7768, df = 1, p-value = 0.09564
    



![png](/images/atlh4h/output_64_2.png)



![png](/images/atlh4h/output_64_3.png)



![png](/images/atlh4h/output_64_4.png)



![png](/images/atlh4h/output_64_5.png)



```R
#Grove.Park

resids.Grove.Park = resid(final.arima.Grove.Park)[-1]
squared.resids.Grove.Park=resids.Grove.Park^2

#test for serial correlation Grove.Park
Box.test(resids.Grove.Park,lag=4,type='Ljung',fitdf=3)
#test for arch effect Grove.Park
Box.test((resids.Grove.Park)^2,lag=4,type='Ljung',fitdf=3)

plot(resids.Grove.Park,main='Residuals of Grove Park Median \nHousing Prices ARIMA Fit', cex.main = 0.85)
plot(squared.resids.Grove.Park,main='Squared Residuals of Grove Park \nMedian Housing Prices ARIMA Fit', cex.main = 0.85)
acf(resids.Grove.Park,main='ACF Residuals of Grove Park Median \nHousing Prices ARIMA Fit', cex.main = 0.85)
acf(squared.resids.Grove.Park,main='ACF Squared Residuals of Grove Park \nMedian Housing Prices ARIMA Fit', cex.main = 0.85)

```


    
    	Box-Ljung test
    
    data:  resids.Grove.Park
    X-squared = 1.2684, df = 1, p-value = 0.2601
    



    
    	Box-Ljung test
    
    data:  (resids.Grove.Park)^2
    X-squared = 5.1691, df = 1, p-value = 0.02299
    



![png](/images/atlh4h/output_65_2.png)



![png](/images/atlh4h/output_65_3.png)



![png](/images/atlh4h/output_65_4.png)



![png](/images/atlh4h/output_65_5.png)



```R
#Orchard.Knob
resids.Orchard.Knob = resid(final.arima.Orchard.Knob)[-1]
squared.resids.Orchard.Knob=resids.Orchard.Knob^2
par(mfrow=c(1,1))

#test for serial correlation Orchard.Knob
Box.test(resids.Orchard.Knob,lag=4,type='Ljung',fitdf=3)
#test for arch effect Orchard.Knob
Box.test((resids.Orchard.Knob)^2,lag=4,type='Ljung',fitdf=3)

plot(resids.Orchard.Knob,main='Residuals of Orchard Knob Median \nHousing Prices ARIMA Fit', cex.main = 0.85)
plot(squared.resids.Orchard.Knob,main='Squared Residuals of Orchard Knob \nMedian Housing Prices ARIMA Fit', cex.main = 0.85)
acf(resids.Orchard.Knob,main='ACF Residuals of Orchard Knob \nMedian Housing Prices ARIMA Fit', cex.main = 0.85)
acf(squared.resids.Orchard.Knob,main='ACF Squared Residuals of Orchard Knob \nMedian Housing Prices ARIMA Fit', cex.main = 0.85)


```


    
    	Box-Ljung test
    
    data:  resids.Orchard.Knob
    X-squared = 1.3447, df = 1, p-value = 0.2462
    



    
    	Box-Ljung test
    
    data:  (resids.Orchard.Knob)^2
    X-squared = 4.6921, df = 1, p-value = 0.0303
    



![png](/images/atlh4h/output_66_2.png)



![png](/images/atlh4h/output_66_3.png)



![png](/images/atlh4h/output_66_4.png)



![png](/images/atlh4h/output_66_5.png)


### Forecasting
I first observe the model performances on predicting the median property values from 2015-2018. All models had predicted values that were close to the observed values, so I proceeded with forecasting the median property values for 2019 - 2023.


```R
options(repr.plot.width = 7, repr.plot.height = 4)
```


```R
#Ashview Heights
n = length(temp_Ashview.Heights)
nfit = n-4
#outprice_Ashview.Heights = arima(temp_Ashview.Heights[1:nfit], order = final.order.Ashview.Heights,method = "ML")
outprice_Ashview.Heights = arima(temp_Ashview.Heights[1:nfit], order = c(1,1,1),method = "ML")
outpred_Ashview.Heights = predict(outprice_Ashview.Heights,n.ahead=4)
ubound_Ashview.Heights = outpred_Ashview.Heights$pred +(1.96*outpred_Ashview.Heights$se)
lbound_Ashview.Heights = outpred_Ashview.Heights$pred-(1.96*outpred_Ashview.Heights$se)
ymin_Ashview.Heights = min(lbound_Ashview.Heights)
ymax_Ashview.Heights = max(ubound_Ashview.Heights)
#Plot of forecasted Property Values vs actual Property Values
par(mfrow=c(1,1))
plot(temp_Ashview.Heights,type="l", ylim=c(ymin_Ashview.Heights,ymax_Ashview.Heights), main = 'Median Property Values and \n predicted Median Property Values in Ashview Heights', xlab = "Year",ylab="Property Values ($)", cex.main = 0.85)
points((ts(outpred_Ashview.Heights$pred, start = 2015, frequency = 1)),pch = 16,col="red")
lines((ts(ubound_Ashview.Heights, start = 2015, freq = 1)),lty=3,lwd= 2, col="blue")
lines((ts(lbound_Ashview.Heights, start = 2015, freq = 1)),lty=3,lwd= 2, col="blue")
#egend(x=2007,y=65000,legend=c("Median Property Values","Predicted Median Property Values"), fill =c("black","red"))
## Compute Accuracy Measures
obsprice_Ashview.Heights = temp_Ashview.Heights[(nfit+1):n]
predprice_Ashview.Heights = outpred_Ashview.Heights$pred
### Mean Squared Prediction Error (MSPE)
MSPE_Ashview.Heights = mean((predprice_Ashview.Heights-obsprice_Ashview.Heights)^2)
### Mean Absolute Prediction Error (MAE)
MAE_Ashview.Heights = mean(abs(predprice_Ashview.Heights-obsprice_Ashview.Heights))
### Mean Absolute Percentage Error (MAPE)
MAPE_Ashview.Heights = mean(abs(predprice_Ashview.Heights-obsprice_Ashview.Heights)/obsprice_Ashview.Heights)
### Precision Measure (PM)
PM_Ashview.Heights = sum((predprice_Ashview.Heights-obsprice_Ashview.Heights)^2)/sum((obsprice_Ashview.Heights-mean(obsprice_Ashview.Heights))^2)
```


![png](/images/atlh4h/output_69_0.png)



```R
#Dixie.Hills
n = length(temp_Dixie.Hills)
nfit = n-4
outprice_Dixie.Hills = arima(temp_Dixie.Hills[1:nfit], order = final.order.Dixie.Hills,method = "ML")
outpred_Dixie.Hills = predict(outprice_Dixie.Hills,n.ahead=4)
ubound_Dixie.Hills = outpred_Dixie.Hills$pred +(1.96*outpred_Dixie.Hills$se)
lbound_Dixie.Hills = outpred_Dixie.Hills$pred-(1.96*outpred_Dixie.Hills$se)
ymin_Dixie.Hills = min(lbound_Dixie.Hills)
ymax_Dixie.Hills = max(ubound_Dixie.Hills)
#Plot of forecasted Property Values vs actual Property Values
par(mfrow=c(1,1))
plot(temp_Dixie.Hills,type="l", ylim=c(ymin_Dixie.Hills,ymax_Dixie.Hills), main = 'Median Property Values and \n predicted Median Property Values in Dixie Hills', xlab = "Year",ylab="Property Values ($)", cex.main = 0.8)
points((ts(outpred_Dixie.Hills$pred, start = 2015, frequency = 1)),pch = 16,col="red")
lines((ts(ubound_Dixie.Hills, start = 2015, freq = 1)),lty=3,lwd= 2, col="blue")
lines((ts(lbound_Dixie.Hills, start = 2015, freq = 1)),lty=3,lwd= 2, col="blue")
#egend(x=2007,y=-1000,legend=c("Median Property Values","Predicted Median Property Values"), fill =c("black","red"))
## Compute Accuracy Measures
obsprice_Dixie.Hills = temp_Dixie.Hills[(nfit+1):n]
predprice_Dixie.Hills = outpred_Dixie.Hills$pred
### Mean Squared Prediction Error (MSPE)
MSPE_Dixie.Hills = mean((predprice_Dixie.Hills-obsprice_Dixie.Hills)^2)
### Mean Absolute Prediction Error (MAE)
MAE_Dixie.Hills = mean(abs(predprice_Dixie.Hills-obsprice_Dixie.Hills))
### Mean Absolute Percentage Error (MAPE)
MAPE_Dixie.Hills = mean(abs(predprice_Dixie.Hills-obsprice_Dixie.Hills)/obsprice_Dixie.Hills)
### Precision Measure (PM)
PM_Dixie.Hills = sum((predprice_Dixie.Hills-obsprice_Dixie.Hills)^2)/sum((obsprice_Dixie.Hills-mean(obsprice_Dixie.Hills))^2)
```


![png](/images/atlh4h/output_70_0.png)



```R
#Grove.Park
n = length(temp_Grove.Park)
nfit = n-4
outprice_Grove.Park = arima(temp_Grove.Park[1:nfit], order = final.order.Grove.Park,method = "ML")
outpred_Grove.Park = predict(outprice_Grove.Park,n.ahead=4)
ubound_Grove.Park = outpred_Grove.Park$pred +(1.96*outpred_Grove.Park$se)
lbound_Grove.Park = outpred_Grove.Park$pred-(1.96*outpred_Grove.Park$se)
ymin_Grove.Park = min(lbound_Grove.Park)
ymax_Grove.Park = max(ubound_Grove.Park)
#Plot of forecasted Property Values vs actual Property Values
par(mfrow=c(1,1))
plot(temp_Grove.Park,type="l", ylim=c(ymin_Grove.Park,ymax_Grove.Park), main = 'Median Property Values and \n predicted Median Property Values in Grove Park', xlab = "Year",ylab="Property Values ($)", cex.main = 0.8)
points((ts(outpred_Grove.Park$pred, start = 2015, frequency = 1)),pch = 16,col="red")
lines((ts(ubound_Grove.Park, start = 2015, freq = 1)),lty=3,lwd= 2, col="blue")
lines((ts(lbound_Grove.Park, start = 2015, freq = 1)),lty=3,lwd= 2, col="blue")
#legend(x=2007,y=-1000,legend=c("Median Property Values","Predicted Median Property Values"), fill =c("black","red"))
## Compute Accuracy Measures
obsprice_Grove.Park = temp_Grove.Park[(nfit+1):n]
predprice_Grove.Park = outpred_Grove.Park$pred
### Mean Squared Prediction Error (MSPE)
MSPE_Grove.Park = mean((predprice_Grove.Park-obsprice_Grove.Park)^2)
### Mean Absolute Prediction Error (MAE)
MAE_Grove.Park = mean(abs(predprice_Grove.Park-obsprice_Grove.Park))
### Mean Absolute Percentage Error (MAPE)
MAPE_Grove.Park = mean(abs(predprice_Grove.Park-obsprice_Grove.Park)/obsprice_Grove.Park)
### Precision Measure (PM)
PM_Grove.Park = sum((predprice_Grove.Park-obsprice_Grove.Park)^2)/sum((obsprice_Grove.Park-mean(obsprice_Grove.Park))^2)
```


![png](/images/atlh4h/output_71_0.png)



```R
#Orchard.Knob
n = length(temp_Orchard.Knob)
nfit = n-4
outprice_Orchard.Knob = arima(temp_Orchard.Knob[1:nfit], order = final.order.Orchard.Knob,method = "ML")
outpred_Orchard.Knob = predict(outprice_Orchard.Knob,n.ahead=4)
ubound_Orchard.Knob = outpred_Orchard.Knob$pred +(1.96*outpred_Orchard.Knob$se)
lbound_Orchard.Knob = outpred_Orchard.Knob$pred-(1.96*outpred_Orchard.Knob$se)
ymin_Orchard.Knob = min(lbound_Orchard.Knob)
ymax_Orchard.Knob = max(ubound_Orchard.Knob)
#Plot of forecasted Property Values vs actual Property Values
par(mfrow=c(1,1))
plot(temp_Orchard.Knob,type="l", ylim=c(ymin_Orchard.Knob,ymax_Orchard.Knob), main = 'Median Property Values and \n predicted Median Property Values in Orchard Knob', xlab = "Year",ylab="Property Values ($)", cex.main = 0.8)
points((ts(outpred_Orchard.Knob$pred, start = 2015, frequency = 1)),pch = 16,col="red")
lines((ts(ubound_Orchard.Knob, start = 2015, freq = 1)),lty=3,lwd= 2, col="blue")
lines((ts(lbound_Orchard.Knob, start = 2015, freq = 1)),lty=3,lwd= 2, col="blue")
#legend(x=2007,y=-2000,legend=c("Median Property Values","Predicted Median Property Values"), fill =c("black","red"))
## Compute Accuracy Measures
obsprice_Orchard.Knob = temp_Orchard.Knob[(nfit+1):n]
predprice_Orchard.Knob = outpred_Orchard.Knob$pred
### Mean Squared Prediction Error (MSPE)
MSPE_Orchard.Knob = mean((predprice_Orchard.Knob-obsprice_Orchard.Knob)^2)
### Mean Absolute Prediction Error (MAE)
MAE_Orchard.Knob = mean(abs(predprice_Orchard.Knob-obsprice_Orchard.Knob))
### Mean Absolute Percentage Error (MAPE)
MAPE_Orchard.Knob = mean(abs(predprice_Orchard.Knob-obsprice_Orchard.Knob)/obsprice_Orchard.Knob)
### Precision Measure (PM)
PM_Orchard.Knob = sum((predprice_Orchard.Knob-obsprice_Orchard.Knob)^2)/sum((obsprice_Orchard.Knob-mean(obsprice_Orchard.Knob))^2)
```


![png](/images/atlh4h/output_72_0.png)


### Ashview Heights


```R
#Forecast 2019 - 2024
n = length(temp_Ashview.Heights) + 5
nfit = n-5
#outprice_Ashview.Heights = arima(temp_Ashview.Heights[1:nfit], order = final.order.Ashview.Heights,method = "ML")
outprice_Ashview.Heights = arima(temp_Ashview.Heights[1:nfit], order = c(1,1,1) ,method = "ML")
outpred_Ashview.Heights = predict(outprice_Ashview.Heights,n.ahead=5)
ubound_Ashview.Heights = outpred_Ashview.Heights$pred +(1.96*outpred_Ashview.Heights$se)
lbound_Ashview.Heights = outpred_Ashview.Heights$pred-(1.96*outpred_Ashview.Heights$se)
ymin_Ashview.Heights = min(lbound_Ashview.Heights)
ymax_Ashview.Heights = max(ubound_Ashview.Heights)
#Plot of forecasted Property Values vs actual Property Values
plot(temp_Ashview.Heights,type="l",xlim =c(2007,2024), ylim=c(ymin_Ashview.Heights,ymax_Ashview.Heights), xlab = NULL, ylab = NULL)#, main = 'Median Property Values and \n Forecasted Median Property Values in Ashview Heights', xlab = "Year", ylab="Median Property Values ($)",  cex.axis = 0.5, cex.sub = 0.5)
title(main = 'Median Property Values and \n Forecasted Median Property Values in Ashview Heights', xlab = "Year", ylab="Median Property Values ($)",  cex.main = 0.8, cex.axis = 0.001, cex.lab = 0.75)#, lab = c(5, 5, 6))
lines((ts(c(Ashview.Heights[12], outpred_Ashview.Heights$pred[1]), start = 2018, frequency = 1)),col="red")
lines((ts(outpred_Ashview.Heights$pred, start = 2019, frequency = 1)),col="red")
points((ts(outpred_Ashview.Heights$pred, start = 2019, frequency = 1)),pch = 16, col="red")
lines((ts(ubound_Ashview.Heights, start = 2019, freq = 1)),lty=3,lwd= 2, col="blue")
lines((ts(lbound_Ashview.Heights, start = 2019, freq = 1)),lty=3,lwd= 2, col="blue")
#legend(x=2007,y=65000,legend=c("Median Property Values","Forecasted Median Property Values"),cex = 1, fill =c("black","red"))
```


![png](/images/atlh4h/output_74_0.png)


### Dixie Hills


```R
#Forecast 2019 - 2024
n = length(temp_Dixie.Hills) + 5
nfit = n-5
outprice_Dixie.Hills = arima(temp_Dixie.Hills[1:nfit], order = final.order.Dixie.Hills,method = "ML")
outpred_Dixie.Hills = predict(outprice_Dixie.Hills,n.ahead=5)
ubound_Dixie.Hills = outpred_Dixie.Hills$pred +(1.96*outpred_Dixie.Hills$se)
lbound_Dixie.Hills = outpred_Dixie.Hills$pred-(1.96*outpred_Dixie.Hills$se)
ymin_Dixie.Hills = min(lbound_Dixie.Hills)
ymax_Dixie.Hills = max(ubound_Dixie.Hills)
#Plot of forecasted Property Values vs actual Property Values
par(mfrow=c(1,1))
plot(temp_Dixie.Hills,type="l",xlim =c(2007,2024), ylim=c(ymin_Dixie.Hills,ymax_Dixie.Hills), xlab = NULL, ylab = NULL)#, main = 'Median Property Values and \n Forecasted Median Property Values in Dixie Hills', xlab = "Year", ylab="Median Property Values ($)",  cex.axis = 0.5, cex.sub = 0.5)
title(main = 'Median Property Values and \n Forecasted Median Property Values in Dixie Hills', xlab = "Year", ylab="Median Property Values ($)",  cex.main = 0.8, cex.axis = 0.001, cex.lab = 0.75)#, lab = c(5, 5, 6))
lines((ts(c(Dixie.Hills[12], outpred_Dixie.Hills$pred[1]), start = 2018, frequency = 1)),col="red")
lines((ts(outpred_Dixie.Hills$pred, start = 2019, frequency = 1)),col="red")
points((ts(outpred_Dixie.Hills$pred, start = 2019, frequency = 1)),pch = 16,col="red")
lines((ts(ubound_Dixie.Hills, start = 2019, freq = 1)),lty=3,lwd= 2, col="blue")
lines((ts(lbound_Dixie.Hills, start = 2019, freq = 1)),lty=3,lwd= 2, col="blue")
#legend(x=2007,y=-1000,legend=c("Median Property Values","Forecasted Median Property Values"), fill =c("black","red"), cex = 0.75, )

```


![png](/images/atlh4h/output_76_0.png)


### Grove Park


```R
#Forecast 2019 - 2024
n = length(temp_Grove.Park) + 5
nfit = n-5
outprice_Grove.Park = arima(temp_Grove.Park[1:nfit], order = final.order.Grove.Park,method = "ML")
outpred_Grove.Park = predict(outprice_Grove.Park,n.ahead=5)
ubound_Grove.Park = outpred_Grove.Park$pred +(1.96*outpred_Grove.Park$se)
lbound_Grove.Park = outpred_Grove.Park$pred-(1.96*outpred_Grove.Park$se)
ymin_Grove.Park = min(lbound_Grove.Park)
ymax_Grove.Park = max(ubound_Grove.Park)
#Plot of forecasted Property Values vs actual Property Values
plot(temp_Grove.Park,type="l",xlim =c(2007,2024), ylim=c(ymin_Grove.Park,ymax_Grove.Park), xlab = NULL, ylab = NULL)#, main = 'Median Property Values and \n Forecasted Median Property Values in Grove Park', xlab = "Year", ylab="Median Property Values ($)",  cex.axis = 0.5, cex.sub = 0.5)
title(main = 'Median Property Values and \n Forecasted Median Property Values in Grove Park', xlab = "Year", ylab="Median Property Values ($)",  cex.main = 0.8, cex.axis = 0.001, cex.lab = 0.75)#, lab = c(5, 5, 6))
lines((ts(c(Grove.Park[12], outpred_Grove.Park$pred[1]), start = 2018, frequency = 1)),col="red")
lines((ts(outpred_Grove.Park$pred, start = 2019, frequency = 1)),col="red")
points((ts(outpred_Grove.Park$pred, start = 2019, frequency = 1)),pch = 16,col="red")
lines((ts(ubound_Grove.Park, start = 2019, freq = 1)),lty=3,lwd= 2, col="blue")
lines((ts(lbound_Grove.Park, start = 2019, freq = 1)),lty=3,lwd= 2, col="blue")
#legend(x=2007,y=-1000,legend=c("Median Property Values","Forecasted Median Property Values"), fill =c("black","red"))
```


![png](/images/atlh4h/output_78_0.png)


### Orchard Knob


```R
#Forecast 2019 - 2024
n = length(temp_Orchard.Knob) + 5
nfit = n-5
outprice_Orchard.Knob = arima(temp_Orchard.Knob[1:nfit], order = final.order.Orchard.Knob,method = "ML")
outpred_Orchard.Knob = predict(outprice_Orchard.Knob,n.ahead=5)
ubound_Orchard.Knob = outpred_Orchard.Knob$pred +(1.96*outpred_Orchard.Knob$se)
lbound_Orchard.Knob = outpred_Orchard.Knob$pred-(1.96*outpred_Orchard.Knob$se)
ymin_Orchard.Knob = min(lbound_Orchard.Knob)
ymax_Orchard.Knob = max(ubound_Orchard.Knob)
#Plot of forecasted Property Values vs actual Property Values
plot(temp_Orchard.Knob,type="l",xlim =c(2007,2024), ylim=c(ymin_Orchard.Knob,ymax_Orchard.Knob), xlab = NULL, ylab = NULL)#, main = 'Median Property Values and \n Forecasted Median Property Values in Orchard Knob', xlab = "Year", ylab="Median Property Values ($)",  cex.axis = 0.5, cex.sub = 0.5)
title(main = 'Median Property Values and \n Forecasted Median Property Values in Orchard Knob', xlab = "Year", ylab="Median Property Values ($)",  cex.main = 0.8, cex.axis = 0.001, cex.lab = 0.75)#, lab = c(5, 5, 6))lines((ts(c(Orchard.Knob[12], outpred_Orchard.Knob$pred[1]), start = 2018, frequency = 1)),col="red")
lines((ts(c(Orchard.Knob[12], outpred_Orchard.Knob$pred[1]), start = 2018, frequency = 1)),col="red")
lines((ts(outpred_Orchard.Knob$pred, start = 2019, frequency = 1)),col="red")
points((ts(outpred_Orchard.Knob$pred, start = 2019, frequency = 1)),pch = 16,col="red")
lines((ts(ubound_Orchard.Knob, start = 2019, freq = 1)),lty=3,lwd= 2, col="blue")
lines((ts(lbound_Orchard.Knob, start = 2019, freq = 1)),lty=3,lwd= 2, col="blue")
#legend(x=2007,y=-2000,legend=c("Median Property Values","Forecasted Median Property Values"), fill =c("black","red"))
```


![png](/images/atlh4h/output_80_0.png)


The confidence bands increase as the prediction index increases. The models for all four neighborhoods indicate that property values will trend upward over the next five years, with Grove Park experiencing the highest rate of increase and Orchard Knob experiencing the lowest rate of increase by 2023. The table below shows the projected median property values for 2019 – 2023. 

| Year | Ashview Heights | Dixie Hills | Grove Park | Orchard Knob |
|------|-----------------|-------------|------------|--------------|
| 2007 | 45040.00        | 36700.00    | 36820.00   | 49920.00     |
| 2008 | 45400.00        | 37020.00    | 37520.00   | 49920.00     |
| 2009 | 45020.00        | 37360.00    | 37520.00   | 49920.00     |
| 2010 | 37660.00        | 28380.00    | 30400.00   | 38660.00     |
| 2011 | 14980.00        | 12510.00    | 21640.00   | 14860.00     |
| 2012 | 6440.00         | 8660.00     | 6400.00    | 9100.00      |
| 2013 | 4400.00         | 6080.00     | 7600.00    | 6880.00      |
| 2014 | 10720.00        | 8640.00     | 7960.00    | 8120.00      |
| 2015 | 11240.00        | 8480.00     | 9040.00    | 7920.00      |
| 2016 | 10980.00           | 8640.00        | 9120.00       | 7920.00         |
| 2017 | 10880.00           | 9020.00        | 9080.00       | 7920.00         |
| 2018 | 14340.00           | 11440.00       | 15180.00      | 8680.00         |
| *2019* | 16392.50         | 12881.08    | 17900.67   | 9200.76      |
| *2020* | 17092.28        | 13401.68    | 19134.72   | 9357.90       |
| *2021* | 17330.87        | 13589.75    | 19694.47   | 9405.32      |
| *2022* | 17412.21        | 13657.69    | 19948.37   | 9419.63      |
| *2023* | 17439.95        | 13682.23    | 20063.53   | 9423.95      |


The table below shows what the forecasted rate of increase will be by 2023. 

|                                   | Ashview Heights | Dixie Hills | Grove Park | Orchard Knob |
|-----------------------------------|-----------------|-------------|------------|--------------|
| __Percent increase by the year 2023__ | 22%             | 20%         | 32%        | 9%           |

As the neighborhood that is forecasted to have the highest rates of property values increases, I recommended Grove Park and its surrounding areas as a target neighborhood for near-term lot acquisition. Ashview Heights (22%) and Dixie Hills (20%) are also noted as areas of focus because they both are forecasted to see property value increases of 20% or more.

I used Zillow to review each neighborhood and find suitable parcels for purchase. I excluded properties that were not clearly listed for sale. The following table lists the 12 parcels that are in or near to Ashview Heights, Grove Park, and Orchard Knob that I recommended for near term acquisition for Atlanta Habitat for Humanity's home ownership program.

| Parcel ID       | Address                                      | Neighborhood     | Notes                                                         |
|-----------------|----------------------------------------------|------------------|---------------------------------------------------------------|
| 14 011600050692 | 996 Parsons St SW, Atlanta, GA 30314         | Ashview Heights  | Foreclosure/Auction. Refurbish structure on property          |
| 14 021100010377 | 220 Linkwood Rd NW, Atlanta, GA 30318        | Collier Heights  | Empty 1.2 acre corner lot west of Dixie Hills                 |
| 14 006800010249 | 11 Baker Dr SW, Atlanta, GA 30354            | Glenrose Heights | Empty 0.26 acre corner lot in Orchard Knob                    |
| 14 006800060566 | 2950 Waters Rd SW LOT 0, Atlanta, GA 30354   | Glenrose Heights | Empty lot in Orchard Knob                                     |
| 14 017500050336 | 2018 Detroit Ave NW, Atlanta, GA 30314       | Grove Park       | Empty lot                                                     |
| 14 017500070532 | 382 Yonkers Ave NW, Atlanta, GA 30314        | Grove Park       | Pre-foreclosure/Auction. Demolish structure on property       |
| 14 014500020385 | 722 Matilda Pl NW, Atlanta, GA 30318         | Grove Park       | 3bd, 1ba home. Refurbish structure on property                |
| 14 014500060084 | 719 Matilda Pl NW, Atlanta, GA 30318         | Grove Park       | Lot that is slanted. May be able to fit two parcels           |
| 14 014700010327 | 0 Ezra Church Dr NW LOT 0, Atlanta, GA 30314 | Hunter Hills     | Empty 7405 sq ft lot South of Grove Park, West of Dixie Hills |
| 14 011500020258 | 209 Troy St NW LOT NA, Atlanta, GA 30314     | Hunter Hills     | Narrow empty 7832 sq ft lot south of Grove Park               |
| 14 003600010081 | 321 Springside Dr SE, Atlanta, GA 30354      | Orchard Knob     | Pre-foreclosure/Auction. Refurbish structure on property      |
| 14 006100050093 | 2908 Browns Mill Rd SE, Atlanta, GA 30354    | Orchard Knob     | Pre-foreclosure/Auction. Refurbish structure on property      |



```R

```